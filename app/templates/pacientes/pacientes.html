<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pacientes - NubeClinic</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/panel.css') }}">
</head>
<body>
    {% include 'components/sidebar.html' %}

    <div class="main-content">
        <div class="main-header pacientes">
            <h2>Pacientes</h2>
            <div class="pacientes-actions">
                <input type="text" class="search-input" placeholder="Escribe nombre, teléfono, ID o número de paciente">
                <select class="filter-select">
                    <option>Autorización para enviar comunicaciones comerciales</option>
                </select>
                <select class="filter-select">
                    <option>Datos de contacto</option>
                </select>
                <select class="filter-select">
                    <option>Estado del paciente</option>
                </select>
                <div class="sort-buttons">
                    <button class="btn-secondary">Ordenar por</button>
                    <button class="btn-secondary">Editar lista de pacientes</button>
                    <button class="btn-primary">+ Añadir paciente</button>
                </div>
            </div>
        </div>

        <div class="pacientes-table">
            <div class="table-header">
                <div>Nombre y Apellidos</div>
                <div>Número de Paciente</div>
                <div>Email</div>
                <div>Teléfono</div>
                <div>Última visita</div>
                <div>Siguiente visita</div>
                <div>Documento de identidad</div>
                <div>Autorización para enviar comunicaciones comerciales</div>
            </div>

            {% for paciente in pacientes %}
            <div class="table-row">
                <div>{{ paciente.nombre }} {{ paciente.apellidos }}</div>
                <div>{{ paciente.numero }}</div>
                <div>
                    {% if paciente.email %}
                        {{ paciente.email }}
                    {% else %}
                        <a href="#" class="add-email">Añadir email</a>
                    {% endif %}
                </div>
                <div>{{ paciente.telefono }}</div>
                <div>{{ paciente.ultima_visita or '-' }}</div>
                <div>{{ paciente.siguiente_visita or 'Crear cita' }}</div>
                <div>{{ paciente.documento or '-' }}</div>
                <div>{{ paciente.autorizacion }}</div>
            </div>
            {% endfor %}
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/panel.js') }}"></script>
</body>
</html>
