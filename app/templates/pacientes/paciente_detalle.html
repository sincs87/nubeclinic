<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ficha del paciente - NubeClinic</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
        }
        .main-container {
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 280px;
            background-color: white;
            padding: 24px;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }
        .photo-circle {
            width: 80px;
            height: 80px;
            background-color: #d9e1ea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #4a4a4a;
            font-size: 20px;
            margin: 0 auto 12px;
            cursor: pointer;
        }
        .sidebar h2 {
            font-size: 18px;
            text-align: center;
            margin: 0;
        }
        .sidebar .patient-id {
            text-align: center;
            font-size: 13px;
            color: #888;
            margin-bottom: 16px;
        }
        .icon-row {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        .icon-row i {
            font-size: 18px;
            color: #1a73e8;
            cursor: pointer;
        }
        .info-block {
            font-size: 14px;
            margin-bottom: 10px;
        }
        .info-block i {
            margin-right: 8px;
            color: #666;
        }
        .notes-section {
            margin-top: 20px;
        }
        .notes-section textarea {
            width: 100%;
            height: 80px;
            font-size: 13px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
        .section-disabled {
            margin-top: 30px;
        }
        .section-disabled h4 {
            font-size: 13px;
            color: #999;
            margin-bottom: 6px;
        }

        .content {
            flex: 1;
            padding: 24px 40px;
            overflow-y: auto;
        }
        .tabs {
            display: flex;
            gap: 30px;
            border-bottom: 1px solid #ccc;
            margin-bottom: 20px;
        }
        .tab {
            padding-bottom: 10px;
            cursor: pointer;
            font-weight: 500;
            font-size: 15px;
            color: #555;
        }
        .tab.active {
            border-bottom: 3px solid #1a73e8;
            color: #1a73e8;
        }
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 800px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-group label {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 5px;
        }
        .form-group input,
        .form-group select {
            padding: 8px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<div class="main-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="photo-circle" onclick="alert('Subir foto')">
            {{ paciente.iniciales or 'ML' }}
        </div>
        <h2>{{ paciente.nombre }} {{ paciente.apellidos }}</h2>
        <div class="patient-id">Nº {{ paciente.codigo }}</div>

        <div class="icon-row">
            <i class="fas fa-calendar-check"></i>
            <i class="fas fa-file-medical"></i>
            <i class="fas fa-user"></i>
            <i class="fas fa-ellipsis-h"></i>
        </div>

        <div class="info-block"><i class="fas fa-envelope"></i> {{ paciente.email }}</div>
        <div class="info-block"><i class="fas fa-phone"></i> {{ paciente.telefono }}</div>

        <div class="notes-section">
            <label for="notas"><strong>Notas</strong></label>
            <textarea id="notas" name="notas" placeholder="Añade notas sobre su paciente...">{{ paciente.notas }}</textarea>
        </div>

        <div class="section-disabled">
            <h4>Otra información médica</h4>
            <ul style="padding-left: 18px; color: #bbb; font-size: 13px;">
                <li>Alergias</li>
                <li>Medicación</li>
                <li>Antecedentes médicos</li>
                <li>Otros</li>
            </ul>
        </div>
    </div>

    <!-- Contenido principal -->
    <div class="content">
        <div class="tabs">
            <div class="tab">Historial clínico</div>
            <div class="tab">Citas</div>
            <div class="tab active">Datos del paciente</div>
            <div class="tab">Lista de pagos</div>
        </div>

        <form>
            <div class="form-grid">
                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" name="nombre" value="{{ paciente.nombre }}">
                </div>
                <div class="form-group">
                    <label>Apellidos</label>
                    <input type="text" name="apellidos" value="{{ paciente.apellidos }}">
                </div>
                <div class="form-group">
                    <label>Fecha de nacimiento</label>
                    <input type="date" name="fecha_nacimiento" value="{{ paciente.fecha_nacimiento }}">
                </div>
                <div class="form-group">
                    <label>Género</label>
                    <select name="genero">
                        <option value="">Selecciona una opción</option>
                        <option value="Hombre" {% if paciente.genero == 'Hombre' %}selected{% endif %}>Hombre</option>
                        <option value="Mujer" {% if paciente.genero == 'Mujer' %}selected{% endif %}>Mujer</option>
                        <option value="Otro" {% if paciente.genero == 'Otro' %}selected{% endif %}>Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tipo de paciente</label>
                    <select name="tipo_paciente">
                        <option value="Privado" {% if paciente.tipo_paciente == 'Privado' %}selected{% endif %}>Privado</option>
                        <option value="De aseguradora" {% if paciente.tipo_paciente == 'De aseguradora' %}selected{% endif %}>De aseguradora</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Estado del paciente</label>
                    <select name="estado">
                        <option value="Activo" {% if paciente.estado == 'Activo' %}selected{% endif %}>Activo</option>
                        <option value="Inactivo" {% if paciente.estado == 'Inactivo' %}selected{% endif %}>Inactivo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ciudad</label>
                    <input type="text" name="ciudad" value="{{ paciente.ciudad }}">
                </div>
                <div class="form-group">
                    <label>Provincia</label>
                    <input type="text" name="provincia" value="{{ paciente.provincia }}">
                </div>
                <div class="form-group">
                    <label>Nacionalidad</label>
                    <input type="text" name="nacionalidad" value="{{ paciente.nacionalidad }}">
                </div>
            </div>
        </form>
    </div>
</div>

</body>
</html>
